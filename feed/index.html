<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0"
	xmlns:content="http://purl.org/rss/1.0/modules/content/"
	xmlns:wfw="http://wellformedweb.org/CommentAPI/"
	xmlns:dc="http://purl.org/dc/elements/1.1/"
	xmlns:atom="http://www.w3.org/2005/Atom"
	xmlns:sy="http://purl.org/rss/1.0/modules/syndication/"
	xmlns:slash="http://purl.org/rss/1.0/modules/slash/"
	>

<channel>
	<title>Only For Sunshine~</title>
	<atom:link href="http://imzc.net/feed/" rel="self" type="application/rss+xml" />
	<link>http://imzc.net</link>
	<description>-More Thinking,And Then Just do it~~~</description>
	<lastBuildDate>Thu, 20 Sep 2012 16:40:36 +0000</lastBuildDate>
	<language>zh-CN</language>
	<sy:updatePeriod>hourly</sy:updatePeriod>
	<sy:updateFrequency>1</sy:updateFrequency>
	<generator>http://wordpress.org/?v=3.4.2</generator>
		<item>
		<title>使用python脚本简单切换hosts文件</title>
		<link>http://imzc.net/archives/288/</link>
		<comments>http://imzc.net/archives/288/#comments</comments>
		<pubDate>Thu, 23 Aug 2012 05:24:44 +0000</pubDate>
		<dc:creator>imzc</dc:creator>
				<category><![CDATA[脚本语言]]></category>

		<guid isPermaLink="false">http://imzc.net/?p=288</guid>
		<description><![CDATA[开发或者测试时，我们很多时候都会遇到多个hosts文件来回切换，windows的hosts文件目录比较深，麻烦 [...]]]></description>
			<content:encoded><![CDATA[<p>开发或者测试时，我们很多时候都会遇到多个hosts文件来回切换，windows的hosts文件目录比较深，麻烦，因此，用python写了个小脚本来简化此功能。<br />
win7以上需要使用管理员权限操作。</p>
<p></p><pre class="crayon-plain-tag"># -*- coding: utf-8 -*-
import os
import glob
import shutil

def format_file_list(files):
        all_files_str = &quot;&quot;
        for i in range(len(files)):
                all_files_str +=  str(i)+&quot;:&quot;+files[i]+&quot;\n&quot;
        return all_files_str
        
hosts_path = &quot;C:\\Windows\\System32\\drivers\\etc&quot;
files =  os.listdir(hosts_path)
os.chdir(hosts_path)

if os.getcwd() != hosts_path:
        print(&quot;Switch Dir to System32 Error,check permission!\npwd:&quot;+os.getcwd())
        exit()
        
hosts_files = glob.glob(&quot;host*&quot;)
choosed_file_idx = int(input(&quot;Choose Hosts File Index:\n&quot;+format_file_list(hosts_files)))
files_num = len(hosts_files)

if (choosed_file_idx &amp;lt; 0 or choosed_file_idx &amp;gt;= files_num) :
        print(&quot;Please choose a file in the lists!&quot;)
        exit()
    
print(&quot;Choosed idx:{0},file:{1}.&quot;.format(choosed_file_idx,hosts_files[choosed_file_idx]))
shutil.copy(&quot;hosts&quot;,&quot;hosts.bak&quot;)
shutil.copy(hosts_files[choosed_file_idx],&quot;hosts&quot;)
print(&quot;Copy ok,then flush dns...&quot;)
os.system(&quot;ipconfig /flushdns&quot;)</pre><p> </p>
]]></content:encoded>
			<wfw:commentRss>http://imzc.net/archives/288/feed/</wfw:commentRss>
		<slash:comments>0</slash:comments>
		</item>
		<item>
		<title>简单提取页面中所有迅雷下载资源链接</title>
		<link>http://imzc.net/archives/286/</link>
		<comments>http://imzc.net/archives/286/#comments</comments>
		<pubDate>Sat, 18 Aug 2012 10:00:06 +0000</pubDate>
		<dc:creator>imzc</dc:creator>
				<category><![CDATA[Other]]></category>

		<guid isPermaLink="false">http://imzc.net/?p=286</guid>
		<description><![CDATA[在遇到下电视剧的时候，N多集，一个一个的链接，比较D疼。而大部分网站都有引入jquery， 所以写个小脚本提取 [...]]]></description>
			<content:encoded><![CDATA[<p>在遇到下电视剧的时候，N多集，一个一个的链接，比较D疼。而大部分网站都有引入jquery，<br />
所以写个小脚本提取所有的thunder://开头的链接吧，方便批量下载。<br />
在Google Chrome浏览器开发者工具（F12）/Firefox Firebug插件 /IE8及以上的开发者工具（F12）的命令行中运行：</p><pre class="crayon-plain-tag">$(&quot;#result&quot;).remove();
$('body').append('&lt;div id=&quot;result&quot;&gt;&lt;/div&gt;')
$.each($('a'),function(i,s){ 
   if(s.href.toString().match(/^thunder/i)){
     $(&quot;#result&quot;).append(s.href+'&lt;br&gt;')
   }
})</pre><p>之后，所有迅雷下载链接会在页面底部出现，复制到迅雷批量下载即可。<br />
如果网站不带有jquery，自行引入即可。如：</p><pre class="crayon-plain-tag">var head = document.getElementsByTagName('head')[0];
var script = document.createElement('script');
script.src = &quot;http://code.jquery.com/jquery-latest.js&quot;;
script.type = 'text/javascript';
head.appendChild(script);

var j = jQuery.noConflict(true); 
j(&quot;#result&quot;).remove();
j('body').append('&lt;div id=&quot;result&quot;&gt;&lt;/div&gt;')
j.each(j('a'),function(i,s){ 
   if(s.href.toString().match(/^thunder/i)){
     j(&quot;#result&quot;).append(s.href+'&lt;br&gt;')
   }
})</pre><p></p>
]]></content:encoded>
			<wfw:commentRss>http://imzc.net/archives/286/feed/</wfw:commentRss>
		<slash:comments>0</slash:comments>
		</item>
		<item>
		<title>There was a problem installing &#8220;Mac OS X&#8221;.Try Reinstalling.</title>
		<link>http://imzc.net/archives/284/</link>
		<comments>http://imzc.net/archives/284/#comments</comments>
		<pubDate>Sat, 04 Aug 2012 09:56:04 +0000</pubDate>
		<dc:creator>imzc</dc:creator>
				<category><![CDATA[Other]]></category>

		<guid isPermaLink="false">http://imzc.net/?p=284</guid>
		<description><![CDATA[Mountain Lion出来了，顺便入了一个镁光的128GB SSD； 按照原来的步骤，将Mountain  [...]]]></description>
			<content:encoded><![CDATA[<p>Mountain Lion出来了，顺便入了一个镁光的128GB SSD；<br />
按照原来的步骤，将Mountain Lion的dmg通过磁盘工具写入到分区后，<br />
重启macbook，选择进入安装时，提示如下：</p>
<blockquote><p>
There was a problem installing “Mac OS X”. Try Reinstalling.
</p></blockquote>
<p>反复重试多次均是如此，而此dmg确定是OK的。因此网上google之，终于找到如下的<a href="http://www.lowfokus.com/2011/08/10/there-was-a-problem-installing-mac-os-x-try-reinstalling/" target="_blank">解决方案</a>：</p>
<blockquote><p>
If you get this message after trying to clean install Lion from a USB drive (the install for me seemed to hang on my i7 MBP), you can try this as it worked for me:<br />
1.  Power off the machine.<br />
2.  Unplug the USB stick and power.<br />
3.  Replace the USB stick, but in a different USB port.<br />
4.  Hold down CMD-OPTION-P-R keys and turn the machine on (hold them until the machine reboots itself for a second BONG sound.)  This resets the PRAM, if you want to google it<br />
5.  Hold down Option and select your USB installer.<br />
Should bring you to the familiar language selection screen
</p></blockquote>
<p>简单介绍下：<br />
1.完全关闭macbook，取出U盘/移动硬盘；<br />
2.重新插在另外一个USB孔中（实际上我操作时，这一步不需要）<br />
3.一直按住CMD-OPTION-P-R四个键，然后打开macbook的电源，直到第二次提示苹果开机声音的时候放开。<br />
  ==> 这个步骤比较关键，作用是重置mac的PRAM ，可以看看<a href="http://support.apple.com/kb/HT1379?viewlocale=zh_CN" target="_blank">官网的介绍</a>。<br />
4.按住Option（Alt），选择启动盘为dmg所在盘即可安装了。<br />
我按照上述几个步骤，安装又恢复正常了~</p>
]]></content:encoded>
			<wfw:commentRss>http://imzc.net/archives/284/feed/</wfw:commentRss>
		<slash:comments>3</slash:comments>
		</item>
		<item>
		<title>安装ruby1.8.6后，gem错误的解决</title>
		<link>http://imzc.net/archives/283/</link>
		<comments>http://imzc.net/archives/283/#comments</comments>
		<pubDate>Thu, 02 Aug 2012 05:25:14 +0000</pubDate>
		<dc:creator>imzc</dc:creator>
				<category><![CDATA[Ruby&Testing]]></category>

		<guid isPermaLink="false">http://imzc.net/?p=283</guid>
		<description><![CDATA[在一台干净环境中安装了ruby1.8.6之后，直接输入gem sources -l等操作，都提示： *** C [...]]]></description>
			<content:encoded><![CDATA[<p>在一台干净环境中安装了ruby1.8.6之后，直接输入gem sources -l等操作，都提示：</p>
<blockquote><p>
*** CURRENT SOURCES ***</p>
<p>ERROR:  While executing gem &#8230; (Gem::RemoteSourceException)<br />
    HTTP Response 302
</p></blockquote>
<p>解决的方法：<br />
1.下载 rubygems-update-1.3.7.gem：</p>
<p>http://rubyforge.org/frs/download.php/70695/rubygems-update-1.3.7.gem</p>
<p>2.CMD运行： gem install &#8211;local rubygems-update-1.3.7.gem<br />
C:\share>gem install rubygems-update-1.3.7.gem<br />
Successfully installed rubygems-update, version 1.3.7<br />
Installing ri documentation for rubygems-update-1.3.7&#8230;<br />
Installing RDoc documentation for rubygems-update-1.3.7&#8230;</p>
<p>3.CMD运行： gem install rubygems-update<br />
C:\share>gem install rubygems-update<br />
Successfully installed rubygems-update, version 1.3.7<br />
Installing ri documentation for rubygems-update-1.3.7&#8230;<br />
Installing RDoc documentation for rubygems-update-1.3.7&#8230;</p>
<p>4.CMD运行： update_rubygems<br />
C:\share>update_rubygems<br />
RubyGems 1.3.7 installed</p>
<p>通过以上步骤，升级本地的gem程序，之后就可以进行常见操作了。当然了，gem source服务器推荐用淘宝的。</p>
<blockquote><p>
$ gem sources &#8211;remove http://rubygems.org/<br />
$ gem sources -a http://ruby.taobao.org/<br />
$ gem sources -l<br />
*** CURRENT SOURCES ***</p>
<p>http://ruby.taobao.org</p>
</blockquote>
]]></content:encoded>
			<wfw:commentRss>http://imzc.net/archives/283/feed/</wfw:commentRss>
		<slash:comments>0</slash:comments>
		</item>
		<item>
		<title>配置vim rails集成开发环境</title>
		<link>http://imzc.net/archives/280/</link>
		<comments>http://imzc.net/archives/280/#comments</comments>
		<pubDate>Wed, 01 Aug 2012 05:10:22 +0000</pubDate>
		<dc:creator>imzc</dc:creator>
				<category><![CDATA[Ruby&Testing]]></category>

		<guid isPermaLink="false">http://imzc.net/?p=280</guid>
		<description><![CDATA[rails开发,好用点的IDE有netbeans,eclipse等.但是netbeans等基于Java编写的客 [...]]]></description>
			<content:encoded><![CDATA[<blockquote><p>
rails开发,好用点的IDE有netbeans,eclipse等.但是netbeans等基于Java编写的客户端,在工程小的时候,还可以.<br />
而工程大了,就比较卡了.一般来说,公司配备的电脑配置都很差,所以估计用vim是最快捷的了;<br />
而且,可以在远程的虚拟机里面搭好环境,远程通过xshell连入,很方便快捷.<br />
入手难度初期可能稍微高一点,但是呢,用顺手之后,你会发觉vim非常nice~ 不用不知道,一用吓一跳~~~O(∩_∩)O~<br />
配置vim ide环境,简单点的就是直接使用janus一体包,然后自定义一点配置,还是比较简单的.
</p></blockquote>
<p>以ubuntu 11.04为例,步骤如下:<br />
1.ubunt安装好ruby+rails环境(开发和vim插件安装都会用到ruby,先提前安装吧)<br />
这部分的步骤直接见ruby-china的wiki:<a href="http://ruby-china.org/wiki/install_ruby_guide" target="_blank">如何快速正确的安装 Ruby, Rails 运行环境</a></p>
<p>2.ubuntu安装好git和curl(一般都已经安装好了)</p><pre class="crayon-plain-tag">sudo apt-get install git-core curl</pre><p>3.安装janus(集成vim插件和常见配置)<br />
主页在: https://github.com/carlhuda/janus<br />
使用以下命令安装即可:</p><pre class="crayon-plain-tag">curl -Lo- https://bit.ly/janus-bootstrap | bash</pre><p>待命令结束运行,无意外的话,就全部安装成功了.</p>
<p>4.在janus的基础上面自定义下快捷键:</p><pre class="crayon-plain-tag">#vim ~/.vimrc.after
color desert
&quot;map to switch tabs
map &lt;F3&gt; &lt;Esc&gt;:tabn&lt;CR&gt;
&quot;map to open NERDTree
map &lt;F8&gt; &lt;Esc&gt;\n
&quot;map to switch NERDTree Window
map &lt;F2&gt; &lt;Esc&gt;&lt;C-w&gt;&lt;C-w&gt;
map &lt;F9&gt; &lt;Esc&gt;&lt;C-w&gt;&lt;Left&gt;
map &lt;F10&gt; &lt;Esc&gt;&lt;C-w&gt;&lt;Right&gt;
&quot;map to switch function list
map &lt;F6&gt; &lt;Esc&gt;\rt
&quot;open syntax fold function.
set fdm=syntax
set foldlevel=2

&quot; mac
color desert
&quot;map to switch tabs
map &lt;F3&gt; &lt;Esc&gt;:tabn&lt;CR&gt;
map &lt;D-1&gt; &lt;Esc&gt;:tabn&lt;CR&gt;
&quot;map to open NERDTree
map &lt;F8&gt; &lt;Esc&gt;\n
map &lt;D-t&gt; &lt;Esc&gt;\n
&quot;map to switch NERDTree Window
map &lt;F2&gt; &lt;Esc&gt;&lt;C-w&gt;&lt;C-w&gt;
map &lt;F9&gt; &lt;Esc&gt;&lt;C-w&gt;&lt;Left&gt;
map &lt;D-j&gt;  &lt;Esc&gt;&lt;C-w&gt;&lt;Left&gt;
map &lt;F10&gt; &lt;Esc&gt;&lt;C-w&gt;&lt;Right&gt;
map &lt;D-k&gt; &lt;Esc&gt;&lt;C-w&gt;&lt;Right&gt;
&quot;map to switch function list
map &lt;F6&gt; &lt;Esc&gt;\rt
map &lt;D-f&gt; &lt;Esc&gt;\rt</pre><p>解释下上面自定义的快捷键:<br />
使用配色方案为desert;<br />
F3 在有多个tab窗口时,从前往后依次循环跳转;<br />
F8 打开目录树;在目录树种,可以使用: i (打开当前文件到split窗口) t (打开当前文件到另一个tab页)<br />
F2 在当前tab窗口,依次进入split窗口<br />
F9 在当前tab窗口,进入左边的split窗口<br />
F10 在当前tab窗口,进入右边的split窗口<br />
F6 打开函数列表<br />
修改vimrc后,不重启vim的情况下,重新加载配置: &#8220;:so ~/.vimrc &#8221;</p>
<p><strong>常用的技巧</strong>:<br />
:! file % 执行命令,%代表当前打开文件的全路径.<br />
ctrl+6 在同一个tab中多次打开文件后,切换上一个和当前打开的文件.<br />
gf 跳转到控制器对应的model定义(rails) 结合ctrl+6往返.</p>
<p><strong>可视模式</strong>:<br />
命令模式下,直接按小写v或者大写V进入,直接进行多个字符或者多行操作;如:<br />
v -> 选择多行-> \cc 注释 \c空格 取消注释<br />
v->选择多行->y 复制->p 粘贴(yny,p)</p>
<p><strong>编辑操作</strong>:<br />
u undo<br />
ctrl+r redo<br />
yny 复制n行<br />
dnd 删除n行(有复制到缓冲区)<br />
p 粘贴</p>
<p><strong>搜索</strong>:<br />
命令行模式下,使用 * 键可以向后搜索光标所在位置的单词。反之，使用 # 键可以向前搜索光标所在位置的单词。<br />
第一次使用 * 或者 # 进行搜索之后，则可以使用 N 或 Shift-N 继续进行搜索。<br />
另外，如果设置了hlsearch选项（:set hlsearch）的话，那么使用 * Shift-N 则可以标记当前的单词为高亮显示。</p>
<p><strong>翻页</strong>(在没有PageUp PageDown的情况下比较好用):<br />
下翻页 Ctrl-f<br />
上翻页 Ctrl-b<br />
下翻行 Ctrl-e<br />
上翻行 Ctrl-y<br />
<strong>行尾</strong>:<br />
命令模式下, ^ 行首; $ 行尾</p>
<p><strong>退出</strong>:<br />
:qall （退出所有窗口）<br />
:wall （保存所有窗口的修改）<br />
:wqall （保存并退出所有窗口）<br />
:qall! （强制退出所有窗口）</p>
<p><strong>Rails专用命令R</strong> (命令行模式下):<br />
:Rcontroller xxx 打开xxx的控制器<br />
:Rmodel xxx 打开xxx的模型<br />
:Rjavascript xxx 打开xxx的js文件<br />
:Rview xxx 打开xxx的视图(erb)</p>
<p>5.上述是介绍的快捷键操作,下面在介绍下怎样保存当前的vim环境:<br />
在命令模式,输入&#8221;:mks!&#8221; 即保存当前状态到:当前目录的 Session.vim 文件中<br />
退出所有vim窗口后,恢复之前的环境: vim -S Session.vim 即可 (如果vim已经打开,则命令模式下运行&#8221;:source Session.vim&#8221;)</p>
]]></content:encoded>
			<wfw:commentRss>http://imzc.net/archives/280/feed/</wfw:commentRss>
		<slash:comments>1</slash:comments>
		</item>
		<item>
		<title>筛选法得到N以内的素数表</title>
		<link>http://imzc.net/archives/279/</link>
		<comments>http://imzc.net/archives/279/#comments</comments>
		<pubDate>Thu, 26 Jul 2012 05:13:20 +0000</pubDate>
		<dc:creator>imzc</dc:creator>
				<category><![CDATA[Ruby&Testing]]></category>

		<guid isPermaLink="false">http://imzc.net/?p=279</guid>
		<description><![CDATA[今天有需要用到的时候,突然发现怎样迅速求出素数表一下给忘记了,看来基本的一些算法需要时时练习下; 再一次对算法 [...]]]></description>
			<content:encoded><![CDATA[<p>今天有需要用到的时候,突然发现怎样迅速求出素数表一下给忘记了,看来基本的一些算法需要时时练习下;<br />
再一次对算法的问题郁闷了,挺悲剧的&#8230;<br />
说回求素数表的问题,依稀记得有通过筛选方法得出的,重新看看了相关资料,用ruby实现了下:</p><pre class="crayon-plain-tag"># encoding: utf-8
#!/usr/bin/ruby

def prime_find(n)
  #1既不是素数也不是合数
  if n&lt;=1
    return []
  end

  init = Array.new(n-1) {|i| i+2} #from 2 to n
  prime =[]
  t = 2
  sqrt = Math.sqrt(n).to_i
  while t&lt;= sqrt
    init.each_index{|i|
      init[i]=0  if init[i]!=t and init[i] % t == 0 #剔除本身
    }
    t+=1
  end

  init.each{|x|  prime.push(x) if x!=0 }
  prime
end

n=1000
primes =  prime_find(n)
print &quot;#{n}以内的素数共有(#{primes.length})个:&quot;
primes.each_index{|i|
  print(&quot;\n&quot;) if i%16 ==0
  print primes[i],&quot; &quot;
}</pre><p>&nbsp;</p>
<blockquote><p>
结果:<br />
1000以内的素数共有(168)个:<br />
2 3 5 7 11 13 17 19 23 29 31 37 41 43 47 53<br />
59 61 67 71 73 79 83 89 97 101 103 107 109 113 127 131<br />
137 139 149 151 157 163 167 173 179 181 191 193 197 199 211 223<br />
227 229 233 239 241 251 257 263 269 271 277 281 283 293 307 311<br />
313 317 331 337 347 349 353 359 367 373 379 383 389 397 401 409<br />
419 421 431 433 439 443 449 457 461 463 467 479 487 491 499 503<br />
509 521 523 541 547 557 563 569 571 577 587 593 599 601 607 613<br />
617 619 631 641 643 647 653 659 661 673 677 683 691 701 709 719<br />
727 733 739 743 751 757 761 769 773 787 797 809 811 821 823 827<br />
829 839 853 857 859 863 877 881 883 887 907 911 919 929 937 941<br />
947 953 967 971 977 983 991 997<br />
请按 ENTER 或其它命令继续
</p></blockquote>
]]></content:encoded>
			<wfw:commentRss>http://imzc.net/archives/279/feed/</wfw:commentRss>
		<slash:comments>1</slash:comments>
		</item>
		<item>
		<title>WordPress动态密码认证插件wp7版发布了~</title>
		<link>http://imzc.net/archives/273/</link>
		<comments>http://imzc.net/archives/273/#comments</comments>
		<pubDate>Sat, 14 Jul 2012 13:21:54 +0000</pubDate>
		<dc:creator>imzc</dc:creator>
				<category><![CDATA[Project]]></category>

		<guid isPermaLink="false">http://imzc.net/?p=273</guid>
		<description><![CDATA[经过几小时的努力，现在Wordpress动态密码认证插件wp7版发布了； 初版功能很简单，仅支持单个博客认证， [...]]]></description>
			<content:encoded><![CDATA[<p>经过几小时的努力，现在Wordpress动态密码认证插件wp7版发布了；<br />
初版功能很简单，仅支持单个博客认证，<a href="http://imzc.net/wp_otp/" target="_blank">使用方式</a>和ios版本的一致。<br />
文件下载（需要xx后才能部署）： <a href="http://imzc.net/wp-content/uploads/2012/07/wp_otp_xap.zip">wp_otp_xap</a></p>
<p>布局挫了点，先将就着吧~~~使用lumia800需要个wp7版本的。。。</p>
<p><a href="http://imzc.net/wp-content/uploads/2012/07/wp_otp_wp7.png"><img class="aligncenter size-full wp-image-277" title="wp_otp_wp7" src="http://imzc.net/wp-content/uploads/2012/07/wp_otp_wp7.png" alt="" width="364" height="701" /></a></p>
]]></content:encoded>
			<wfw:commentRss>http://imzc.net/archives/273/feed/</wfw:commentRss>
		<slash:comments>0</slash:comments>
		</item>
		<item>
		<title>镜像网站为静态页面到github中</title>
		<link>http://imzc.net/archives/271/</link>
		<comments>http://imzc.net/archives/271/#comments</comments>
		<pubDate>Thu, 12 Jul 2012 17:04:41 +0000</pubDate>
		<dc:creator>imzc</dc:creator>
				<category><![CDATA[LAMP]]></category>

		<guid isPermaLink="false">http://imzc.net/?p=271</guid>
		<description><![CDATA[之前看到太多网站数据损坏的例子了，最近使用github较多，刚好提供了免费的静态网页存放的地方，因此通过一系列 [...]]]></description>
			<content:encoded><![CDATA[<p>之前看到太多网站数据损坏的例子了，最近使用github较多，刚好提供了免费的静态网页存放的地方，因此通过一系列命令来实现本博客静态化，并自动转移到github中。</p>
<p>需要准备的有：</p>
<blockquote><p>
1.github账户名一个，假定为 gitwww<br />
2.自己空闲的域名（如果不需要独立域名，可不需要）；<br />
3.前提： 能登陆博客空间的ssh。vps是一个比较好的解决方法。
</p></blockquote>
<p>第一步：  gitwww登陆到github，创建仓库： gitwww.github.com （系统对此&#8221;自己账号名称.github.com&#8221;仓库有特殊处理）；创建成功后，进入该仓库管理页面，点击右上方的【Admin】按钮，保证下述选项为选中状态：</p>
<p><a href="http://imzc.net/wp-content/uploads/2012/07/github.jpg"><img class="aligncenter size-medium wp-image-272" title="github" src="http://imzc.net/wp-content/uploads/2012/07/github-300x103.jpg" alt="" width="300" height="103" /></a></p>
<p>第二步：登陆博客SSH，按照github的提示，创建ssh key。保证git能不需要密码登陆成功。</p>
<p>第三步：初始化github静态博客；</p><pre class="crayon-plain-tag">git clone git@github.com:gitwww/gitwww.github.com.git
cd&nbsp;gitwww.github.com
cat &quot;my blog index&quot; &gt; index.html
echo &quot;www.devzc.com&quot; &gt;&nbsp;CNAME &nbsp;#如果需要独立域名，则加上此行
git add .
git commit -m &quot;blog init&quot;
git remote add origin&nbsp;https://github.com/gitwww/gitwww.github.com.git
git push -u origin master</pre><p>保证代码提交完成,注意：每次提交代码后，页面显示会有一定的延迟。<br />
第四步，修改你域名的解析:<br />
devzc.com 的A记录到 204.232.175.78 （http://gitwww.github.com的IP）；<br />
CNAME记录到gitwww.github.com</p>
<p>第五步，整站下载并更新到github上：<br />
工具借助wget就行了。</p><pre class="crayon-plain-tag">#!/bin/bash
ua='Mozilla/5.0 (Windows; U; Windows NT 5.1; zh-CN; rv:1.9.1.6) Gecko/20091201 Firefox/3.5.6'

cd /home/zc/imzcstatic/
rm imzc.net -rf

wget -r -p -np -k -e  -U &quot;$ua&quot; &quot;http://imzc.net&quot; -o /dev/null -P /home/zc/imzcstatic/

cp -Rf imzc.net/* gitwww.github.com/
rm imzc.net -rf
cd gitwww.github.com
git add .
git commit -m &quot;imzc.net auto generate static page.&quot;
git push origin master
cd ..
echo &quot;[`date`]data update&quot;&gt;&gt;update.log</pre><p></p>
<blockquote><p>欢迎访问本博客的静态同步： <a href="http://devzc.com" target="_blank">http://devzc.com</a> </p></blockquote>
]]></content:encoded>
			<wfw:commentRss>http://imzc.net/archives/271/feed/</wfw:commentRss>
		<slash:comments>0</slash:comments>
		</item>
		<item>
		<title>linux下STAF执行失败时的处理</title>
		<link>http://imzc.net/archives/268/</link>
		<comments>http://imzc.net/archives/268/#comments</comments>
		<pubDate>Mon, 09 Jul 2012 03:09:37 +0000</pubDate>
		<dc:creator>imzc</dc:creator>
				<category><![CDATA[Ruby&Testing]]></category>

		<guid isPermaLink="false">http://imzc.net/?p=268</guid>
		<description><![CDATA[最近使用staf时,老是提示xxx.so找不到,按照网上的解决方案设置了,都不行,结果发现问题出现在命令上面: [...]]]></description>
			<content:encoded><![CDATA[<p>最近使用staf时,老是提示xxx.so找不到,按照网上的解决方案设置了,都不行,结果发现问题出现在命令上面:</p>
<p>使用screen防止ssh突然断链,而screen和普通直接登录ssh时不一样.执行命令时,我直接使用了:screen xxx,</p>
<p>猜想:screen command时,在未执行 /etc/profile.从而导致使用xshell登录ssh的环境变量和command通过screen运行时的环境变量不一致.</p>
<p>修复错误: screen -t &#8220;windows name&#8221;后,先执行一下/etc/profile,然后再执行自己的命令.</p>
<p>&nbsp;</p>
<blockquote><p>附上找不到libSTAF.so时,<a href="http://katrina-lxd.i.sohu.com/blog/view/184589263.htm" target="_blank">网上的</a>一般解决方案:</p>
<p>1、启动时：error while loading shared libraries: libSTAF.so: cannot open shared object file: No such file or directory</p>
<p>&nbsp;</p>
<p>解决思路：</p>
<p>（1）、staf默认安装在/usr/local/staf下，如果当前用户不是root用户，确认登录用户有操作该文件夹的权限。</p>
<p>（2）、LD_LIBRARY_PATH未配置staf的库</p>
<p>export LD_LIBRARY_PATH=/usr/local/staf/lib</p>
<p>（3）、LD_LIBRARY_PATH配置成功后运行STAFProc有如下提示：</p>
<p>STAF bin directory not found in PATH, STAF RC: 48, OS RC: 0</p>
<p>配置PATH：PATH=/usr/local/staf/bin:$PATH<br />
export PATH</p>
<p>&nbsp;</p>
<p>2、linux下安装staf之前，</p>
<p>cd /usr/lib</p>
<p>ll libstdc*</p>
<p>如果有C库，不用安装了。</p>
<p>&nbsp;</p>
<p>3、若安装stax，需先安装jvm或者带jvm的staf</p>
<p>&nbsp;</p>
<p>4、配置好stax启动staf时，</p>
<p>Error constructing service, JSTAF, Result: Unable to connect to JVM</p>
<p>并且/usr/local/staf/data/STAF/lang/java/jvm/STAFJVM1中的日志为</p>
<p>Caused by: java.lang.ClassNotFoundException: com.ibm.staf.service.STAFServiceHelper</p>
<p>解决：</p>
<p>（1）确认的位置JSTAF.jar：windows默认在C:\STAF\bin\JSTAF.jar，linux默认在/usr/local/staf/lib/JSTAF.jar。<tt></tt></p>
<p>（2）将JSTAF.jar添加到CLASSPATH中。</p></blockquote>
]]></content:encoded>
			<wfw:commentRss>http://imzc.net/archives/268/feed/</wfw:commentRss>
		<slash:comments>0</slash:comments>
		</item>
		<item>
		<title>ruby Rspec测试框架cheetsheet</title>
		<link>http://imzc.net/archives/267/</link>
		<comments>http://imzc.net/archives/267/#comments</comments>
		<pubDate>Wed, 04 Jul 2012 16:57:39 +0000</pubDate>
		<dc:creator>imzc</dc:creator>
				<category><![CDATA[Ruby&Testing]]></category>

		<guid isPermaLink="false">http://imzc.net/?p=267</guid>
		<description><![CDATA[项目使用Rspec测试框架,一堆should等等方法容易忘记,这里收集了下: INSTALL =======  [...]]]></description>
			<content:encoded><![CDATA[<p>项目使用Rspec测试框架,一堆should等等方法容易忘记,这里收集了下:<br />
INSTALL<br />
=======</p>
<p>$ gem install rspec</p>
<p>RSPEC-RAILS<br />
===========</p>
<p>  RAILS-3<br />
  =======</p>
<p>    CONFIGURE THE GEMFILE<br />
    ======================<br />
    group :development, :test do<br />
      gem &#8220;rspec-rails&#8221;, &#8220;~> 2.0&#8243;<br />
    end</p>
<p>    INSTALL THE BUNDLE<br />
    ===============================<br />
    $ bundle install</p>
<p>    BOOTSTRAP THE APP<br />
    =================<br />
    $ ./script/rails generate rspec:install<br />
          create  .rspec<br />
          create  spec<br />
          create  spec/spec_helper.rb<br />
          create  autotest<br />
          create  autotest/discover.rb</p>
<p>  RAILS-2<br />
  =======</p>
<p>    INSTALL<br />
    =======<br />
    $ gem install rspec-rails -v 1.3.3</p>
<p>    BOOTSTRAP THE APP<br />
    =================<br />
    $ ./script/generate rspec<br />
        create  spec<br />
        create  spec/spec_helper.rb<br />
        create  spec/spec.opts<br />
        create  previous_failures.txt<br />
        create  script/spec_server<br />
        create  script/spec</p>
<p>HOW TO USE<br />
==========</p>
<p>  COMMAND LINE<br />
  =============<br />
rspec &#8211;color &#8211;format doc spec/widget_spec.rb</p>
<p>  RAILS 3 (RSPEC 2)<br />
  =============<br />
./rails/generate model User<br />
rake -T spec # lists all rspec rake tasks<br />
rake spec # run all specs<br />
rake spec/models/mymodel_spec.rb # run a single spec file<br />
rake spec/models/mymodel_spec.rb:27 # run a single example or group on line 27</p>
<p>  RAILS 2 (RSPEC 1)<br />
  =============<br />
./script/generate rspec_model User<br />
rake -T spec # lists all rspec rake tasks<br />
rake spec # run all specs<br />
rake spec SPEC=spec/models/mymodel_spec.rb SPEC_OPTS=&#8221;-e \&#8221;should do<br />
something\&#8221;" #run a single spec</p>
<p></p><pre class="crayon-plain-tag">module UserSpecHelper
  def valid_user_attributes
    { :email =&gt; &quot;joe@bloggs.com&quot;,
      :username =&gt; &quot;joebloggs&quot;,
      :password =&gt; &quot;abcdefg&quot;}
  end
end


describe &quot;A User (in general)&quot; do
  include UserSpecHelper

  before(:each) do
    @user = User.new
  end

  it &quot;should be invalid without a username&quot; do
    pending &quot;some other thing we depend on&quot;
    @user.attributes = valid_user_attributes.except(:username)
    @user.should_not be_valid
    @user.should have(1).error_on(:username)
    @user.errors.on(:username).should == &quot;is required&quot;
    @user.username = &quot;someusername&quot;
    @user.should be_valid
  end
end</pre><p>EXPECTATIONS<br />
=====================</p><pre class="crayon-plain-tag">target.should satisfy {|arg| ...}
target.should_not satisfy {|arg| ...}

target.should equal &lt;value&gt;
target.should_not equal &lt;value&gt;

target.should be_close &lt;value&gt;, &lt;tolerance&gt;
target.should_not be_close &lt;value&gt;, &lt;tolerance&gt;

target.should be &lt;value&gt;
target.should_not be &lt;value&gt;

target.should predicate [optional args]
target.should be_predicate [optional args]
target.should_not predicate [optional args]
target.should_not be_predicate [optional args]

target.should be &lt; 6
target.should == 5
target.should be_between(1, 10)
target.should_not == 'Samantha'

target.should match &lt;regex&gt;
target.should_not match &lt;regex&gt;

target.should be_an_instance_of &lt;class&gt;
target.should_not be_an_instance_of &lt;class&gt;

target.should be_a_kind_of &lt;class&gt;
target.should_not be_a_kind_of &lt;class&gt;

target.should respond_to &lt;symbol&gt;
target.should_not respond_to &lt;symbol&gt;

lambda {a_call}.should raise_error
lambda {a_call}.should raise_error(&lt;exception&gt; [, message])
lambda {a_call}.should_not raise_error
lambda {a_call}.should_not raise_error(&lt;exception&gt; [, message])
lambda {a_call}.should change(instance, method).from(number).to(number)

proc.should throw &lt;symbol&gt;
proc.should_not throw &lt;symbol&gt;

target.should include &lt;object&gt;
target.should_not include &lt;object&gt;

target.should have(&lt;number&gt;).things
target.should have_at_least(&lt;number&gt;).things
target.should have_at_most(&lt;number&gt;).things

target.should have(&lt;number&gt;).errors_on(:field)

expect { thing.approve! }.to change(thing, :status).
    from(Status::AWAITING_APPROVAL).
    to(Status::APPROVED)

expect { thing.destroy }.to change(Thing, :count).by(-1)</pre><p>Mocks and Stubs(打桩)<br />
===============</p><pre class="crayon-plain-tag">user_mock = mock &quot;User&quot;
user_mock.should_receive(:authenticate).with(&quot;password&quot;).and_return(true)
user_mock.should_receive(:coffee).exactly(3).times.and_return(:americano)
user_mock.should_receive(:coffee).exactly(5).times.and_raise(NotEnoughCoffeeExcep
ion)

people_stub = mock &quot;people&quot;
people_stub.stub!(:each).and_yield(mock_user)
people_stub.stub!(:bad_method).and_raise(RuntimeError)

user_stub = mock_model(&quot;User&quot;, :id =&gt; 23, :username =&gt; &quot;pat&quot;, :email =&gt;
&quot;pat@example.com&quot;)

my_instance.stub!(:msg).and_return(value)
MyClass.stub!(:msg).and_return(value)</pre><p>Examples (in the real world)</p>
<p>============================</p>
<p>http://madhatted.com/2008/7/10/rspec-real-world-testing</p>
<p>presentation: http://kerryb.github.com/iprug-rspec-presentation/#31<br />
&nbsp;</p>
]]></content:encoded>
			<wfw:commentRss>http://imzc.net/archives/267/feed/</wfw:commentRss>
		<slash:comments>0</slash:comments>
		</item>
	</channel>
</rss>
